{"version":3,"file":"js/app~586c4d24.3314cc49.js","mappings":";+RAsBA,QAtBMA,sKACJ,YAAyC,WAA3BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,QAC5BF,EAAOG,iBAAiB,SAAS,SAACC,GAChC,EAAKC,cAAcD,EAAOH,EAC3B,IAEDC,EAAQC,iBAAiB,SAAS,SAACC,GACjC,EAAKE,aAAaF,EAAOH,EAC1B,GACF,8BAED,SAAqBG,EAAOH,GAC1BG,EAAMG,kBACNN,EAAOO,UAAUC,OAAO,iBACzB,6BAED,SAAoBL,EAAOH,GACzBG,EAAMG,kBACNN,EAAOO,UAAUE,OAAO,iBACzB,6FAnBGX,mNCAAY,EAAAA,8KAGJ,SAAoBC,GAClB,MAAO,iBAAP,OAAwBA,EAAxB,oBACD,8BAED,SAAqBA,GACnB,MAAO,oBAAP,OAA2BA,EAA3B,+CACD,6FATGD,KACwB,gCADxBA,0BAAAA,yFAYN,0SCXA,4wNAiDA,YAhDME,2LACJ,gGAAaC,EAAb,EAAaA,wBAAyBC,EAAtC,EAAsCA,iBAAkBC,EAAxD,EAAwDA,WACtDC,KAAKC,yBAA2BJ,EAChCG,KAAKE,kBAAoBJ,EACzBE,KAAKG,YAAcJ,EAHrB,SAKQC,KAAKI,gBALb,wIAQA,2FACUC,EAAOL,KAAKG,YAAZE,GADV,SAEkCL,KAAKM,mBAAmBD,GAF1D,cAKIL,KAAKO,mBAELP,KAAKQ,kBAPT,4IAWA,WAAyBH,GAAzB,uFAC2BL,KAAKE,kBAAkBO,cAAcJ,GADhE,cACQN,EADR,2BAEWA,GAFX,2HAKA,WAAkB,WAChBC,KAAKC,yBAAyBS,WAAYC,EAAAA,EAAAA,MAEnBC,SAASC,cAAc,oBAC/B3B,iBAAiB,QAAhC,6BAAyC,WAAOC,GAAP,wEACvCA,EAAMG,kBADiC,SAGjC,EAAKY,kBAAkBY,cAAc,EAAKX,aAHT,OAIvC,EAAKC,gBAJkC,2CAAzC,sDAMD,iCAED,WAAmB,WACjBJ,KAAKC,yBAAyBS,WAAYK,EAAAA,EAAAA,MAEnBH,SAASC,cAAc,oBAC/B3B,iBAAiB,QAAhC,YAAyC,8FACjC,EAAKgB,kBAAkBc,iBAAiB,EAAKb,YAAYE,IADxB,OAEvC,EAAKD,gBAFkC,2CAI1C,6EA7CGR","sources":["webpack://kalapps-pwa/./src/scripts/utils/drawer.initiator.js","webpack://kalapps-pwa/./src/scripts/utils/error.message.js","webpack://kalapps-pwa/./src/scripts/utils/favorite.button.presenter.js"],"sourcesContent":["class DrawerInitiator {\n  static init({ button, drawer, content }) {\n    button.addEventListener('click', (event) => {\n      this._toggleDrawer(event, drawer);\n    });\n\n    content.addEventListener('click', (event) => {\n      this._closeDrawer(event, drawer);\n    });\n  }\n\n  static _toggleDrawer(event, drawer) {\n    event.stopPropagation();\n    drawer.classList.toggle('nav_list__open');\n  }\n\n  static _closeDrawer(event, drawer) {\n    event.stopPropagation();\n    drawer.classList.remove('nav_list__open');\n  }\n}\n\nexport default DrawerInitiator;\n","class ErrorMessage {\n  static ERR_REQUEST_FAILED = 'Failed to execute request.';\n\n  static ERR_GET_DATA(name) {\n    return `Failed to get ${name} data. Try again.`;\n  }\n\n  static ERR_POST_DATA(name) {\n    return `Failed to submit ${name} data. Please check your data and try again.`;\n  }\n}\n\nexport default ErrorMessage;\n","import { createFavoriteButtonTemplate, createFavoritedButtonTemplate } from '../views/templates/creator.template';\n\nclass FavoriteButtonInitiator {\n  async init({ favoriteButtonContainer, favoriteProvider, restaurant }) {\n    this._favoriteButtonContainer = favoriteButtonContainer;\n    this._favoriteProvider = favoriteProvider;\n    this._restaurant = restaurant;\n\n    await this._renderButton();\n  }\n\n  async _renderButton() {\n    const { id } = this._restaurant;\n    const isRestaurantExist = await this._isRestaurantExist(id);\n\n    if (isRestaurantExist) {\n      this._renderFavorited();\n    } else {\n      this._renderFavorite();\n    }\n  }\n\n  async _isRestaurantExist(id) {\n    const restaurant = await this._favoriteProvider.getRestaurant(id);\n    return !!restaurant;\n  }\n\n  _renderFavorite() {\n    this._favoriteButtonContainer.innerHTML = createFavoriteButtonTemplate();\n\n    const favoriteButton = document.querySelector('#favorite-button');\n    favoriteButton.addEventListener('click', async (event) => {\n      event.stopPropagation();\n\n      await this._favoriteProvider.putRestaurant(this._restaurant);\n      this._renderButton();\n    });\n  }\n\n  _renderFavorited() {\n    this._favoriteButtonContainer.innerHTML = createFavoritedButtonTemplate();\n\n    const favoriteButton = document.querySelector('#favorite-button');\n    favoriteButton.addEventListener('click', async () => {\n      await this._favoriteProvider.deleteRestaurant(this._restaurant.id);\n      this._renderButton();\n    });\n  }\n}\n\nexport default new FavoriteButtonInitiator();\n"],"names":["DrawerInitiator","button","drawer","content","addEventListener","event","_toggleDrawer","_closeDrawer","stopPropagation","classList","toggle","remove","ErrorMessage","name","FavoriteButtonInitiator","favoriteButtonContainer","favoriteProvider","restaurant","this","_favoriteButtonContainer","_favoriteProvider","_restaurant","_renderButton","id","_isRestaurantExist","_renderFavorited","_renderFavorite","getRestaurant","innerHTML","createFavoriteButtonTemplate","document","querySelector","putRestaurant","createFavoritedButtonTemplate","deleteRestaurant"],"sourceRoot":""}