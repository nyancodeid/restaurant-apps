/*! For license information please see 104.592ce653.js.LICENSE.txt */
(self.webpackChunkkalapps_pwa=self.webpackChunkkalapps_pwa||[]).push([[104],{397:t=>{!function(e,n){var i=function(t,e,n){"use strict";var i,o;if(function(){var e,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in o=t.lazySizesConfig||t.lazysizesConfig||{},n)e in o||(o[e]=n[e])}(),!e||!e.getElementsByClassName)return{init:function(){},cfg:o,noSupport:!0};var a,r,s,c,l,d,u,f,p,h,m,v,y,g,b,_,E,N,C,A,z,w,L,M,x,T,k,I,D,P,S,B,O,F,H,j,W,R,X,$,q,V,Y,U,K=e.documentElement,Q=t.HTMLPictureElement,G="addEventListener",J=t.addEventListener.bind(t),Z=t.setTimeout,tt=t.requestAnimationFrame||Z,et=t.requestIdleCallback,nt=/^picture$/i,it=["load","error","lazyincluded","_lazyloaded"],ot={},at=Array.prototype.forEach,rt=function(t,e){return ot[e]||(ot[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),ot[e].test(t.getAttribute("class")||"")&&ot[e]},st=function(t,e){rt(t,e)||t.setAttribute("class",(t.getAttribute("class")||"").trim()+" "+e)},ct=function(t,e){var n;(n=rt(t,e))&&t.setAttribute("class",(t.getAttribute("class")||"").replace(n," "))},lt=function(t,e,n){var i=n?G:"removeEventListener";n&&lt(t,e),it.forEach((function(n){t[i](n,e)}))},dt=function(t,n,o,a,r){var s=e.createEvent("Event");return o||(o={}),o.instance=i,s.initEvent(n,!a,!r),s.detail=o,t.dispatchEvent(s),s},ut=function(e,n){var i;!Q&&(i=t.picturefill||o.pf)?(n&&n.src&&!e.getAttribute("srcset")&&e.setAttribute("srcset",n.src),i({reevaluate:!0,elements:[e]})):n&&n.src&&(e.src=n.src)},ft=function(t,e){return(getComputedStyle(t,null)||{})[e]},pt=function(t,e,n){for(n=n||t.offsetWidth;n<o.minSize&&e&&!t._lazysizesWidth;)n=e.offsetWidth,e=e.parentNode;return n},ht=(q=[],V=$=[],U=function(t,n){R&&!n?t.apply(this,arguments):(V.push(t),X||(X=!0,(e.hidden?Z:tt)(Y)))},U._lsFlush=Y=function(){var t=V;for(V=$.length?q:$,R=!0,X=!1;t.length;)t.shift()();R=!1},U),mt=function(t,e){return e?function(){ht(t)}:function(){var e=this,n=arguments;ht((function(){t.apply(e,n)}))}},vt=function(t){var e,i,o=function(){e=null,t()},a=function(){var t=n.now()-i;t<99?Z(a,99-t):(et||o)(o)};return function(){i=n.now(),e||(e=Z(a,99))}},yt=(E=/^img$/i,N=/^iframe$/i,C="onscroll"in t&&!/(gle|ing)bot/.test(navigator.userAgent),0,A=0,z=0,w=-1,L=function(t){z--,(!t||z<0||!t.target)&&(z=0)},M=function(t){return null==_&&(_="hidden"==ft(e.body,"visibility")),_||!("hidden"==ft(t.parentNode,"visibility")&&"hidden"==ft(t,"visibility"))},x=function(t,n){var i,o=t,a=M(t);for(v-=n,b+=n,y-=n,g+=n;a&&(o=o.offsetParent)&&o!=e.body&&o!=K;)(a=(ft(o,"opacity")||1)>0)&&"visible"!=ft(o,"overflow")&&(i=o.getBoundingClientRect(),a=g>i.left&&y<i.right&&b>i.top-1&&v<i.bottom+1);return a},k=function(t){var e,i=0,a=o.throttleDelay,r=o.ricTimeout,s=function(){e=!1,i=n.now(),t()},c=et&&r>49?function(){et(s,{timeout:r}),r!==o.ricTimeout&&(r=o.ricTimeout)}:mt((function(){Z(s)}),!0);return function(t){var o;(t=!0===t)&&(r=33),e||(e=!0,(o=a-(n.now()-i))<0&&(o=0),t||o<9?c():Z(c,o))}}(T=function(){var t,n,a,r,s,c,u,p,E,N,L,T,k=i.elements;if((f=o.loadMode)&&z<8&&(t=k.length)){for(n=0,w++;n<t;n++)if(k[n]&&!k[n]._lazyRace)if(!C||i.prematureUnveil&&i.prematureUnveil(k[n]))F(k[n]);else if((p=k[n].getAttribute("data-expand"))&&(c=1*p)||(c=A),N||(N=!o.expand||o.expand<1?K.clientHeight>500&&K.clientWidth>500?500:370:o.expand,i._defEx=N,L=N*o.expFactor,T=o.hFac,_=null,A<L&&z<1&&w>2&&f>2&&!e.hidden?(A=L,w=0):A=f>1&&w>1&&z<6?N:0),E!==c&&(h=innerWidth+c*T,m=innerHeight+c,u=-1*c,E=c),a=k[n].getBoundingClientRect(),(b=a.bottom)>=u&&(v=a.top)<=m&&(g=a.right)>=u*T&&(y=a.left)<=h&&(b||g||y||v)&&(o.loadHidden||M(k[n]))&&(d&&z<3&&!p&&(f<3||w<4)||x(k[n],c))){if(F(k[n]),s=!0,z>9)break}else!s&&d&&!r&&z<4&&w<4&&f>2&&(l[0]||o.preloadAfterLoad)&&(l[0]||!p&&(b||g||y||v||"auto"!=k[n].getAttribute(o.sizesAttr)))&&(r=l[0]||k[n]);r&&!s&&F(r)}}),D=mt(I=function(t){var e=t.target;e._lazyCache?delete e._lazyCache:(L(t),st(e,o.loadedClass),ct(e,o.loadingClass),lt(e,P),dt(e,"lazyloaded"))}),P=function(t){D({target:t.target})},S=function(t,e){var n=t.getAttribute("data-load-mode")||o.iframeLoadMode;0==n?t.contentWindow.location.replace(e):1==n&&(t.src=e)},B=function(t){var e,n=t.getAttribute(o.srcsetAttr);(e=o.customMedia[t.getAttribute("data-media")||t.getAttribute("media")])&&t.setAttribute("media",e),n&&t.setAttribute("srcset",n)},O=mt((function(t,e,n,i,a){var r,s,c,l,d,f;(d=dt(t,"lazybeforeunveil",e)).defaultPrevented||(i&&(n?st(t,o.autosizesClass):t.setAttribute("sizes",i)),s=t.getAttribute(o.srcsetAttr),r=t.getAttribute(o.srcAttr),a&&(l=(c=t.parentNode)&&nt.test(c.nodeName||"")),f=e.firesLoad||"src"in t&&(s||r||l),d={target:t},st(t,o.loadingClass),f&&(clearTimeout(u),u=Z(L,2500),lt(t,P,!0)),l&&at.call(c.getElementsByTagName("source"),B),s?t.setAttribute("srcset",s):r&&!l&&(N.test(t.nodeName)?S(t,r):t.src=r),a&&(s||l)&&ut(t,{src:r})),t._lazyRace&&delete t._lazyRace,ct(t,o.lazyClass),ht((function(){var e=t.complete&&t.naturalWidth>1;f&&!e||(e&&st(t,o.fastLoadedClass),I(d),t._lazyCache=!0,Z((function(){"_lazyCache"in t&&delete t._lazyCache}),9)),"lazy"==t.loading&&z--}),!0)})),F=function(t){if(!t._lazyRace){var e,n=E.test(t.nodeName),i=n&&(t.getAttribute(o.sizesAttr)||t.getAttribute("sizes")),a="auto"==i;(!a&&d||!n||!t.getAttribute("src")&&!t.srcset||t.complete||rt(t,o.errorClass)||!rt(t,o.lazyClass))&&(e=dt(t,"lazyunveilread").detail,a&&gt.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,z++,O(t,e,a,i,n))}},H=vt((function(){o.loadMode=3,k()})),W=function(){d||(n.now()-p<999?Z(W,999):(d=!0,o.loadMode=3,k(),J("scroll",j,!0)))},{_:function(){p=n.now(),i.elements=e.getElementsByClassName(o.lazyClass),l=e.getElementsByClassName(o.lazyClass+" "+o.preloadClass),J("scroll",k,!0),J("resize",k,!0),J("pageshow",(function(t){if(t.persisted){var n=e.querySelectorAll("."+o.loadingClass);n.length&&n.forEach&&tt((function(){n.forEach((function(t){t.complete&&F(t)}))}))}})),t.MutationObserver?new MutationObserver(k).observe(K,{childList:!0,subtree:!0,attributes:!0}):(K.addEventListener("DOMNodeInserted",k,!0),K.addEventListener("DOMAttrModified",k,!0),setInterval(k,999)),J("hashchange",k,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(t){e.addEventListener(t,k,!0)})),/d$|^c/.test(e.readyState)?W():(J("load",W),e.addEventListener("DOMContentLoaded",k),Z(W,2e4)),i.elements.length?(T(),ht._lsFlush()):k()},checkElems:k,unveil:F,_aLSL:j=function(){3==o.loadMode&&(o.loadMode=2),H()}}),gt=(r=mt((function(t,e,n,i){var o,a,r;if(t._lazysizesWidth=i,i+="px",t.setAttribute("sizes",i),nt.test(e.nodeName||""))for(a=0,r=(o=e.getElementsByTagName("source")).length;a<r;a++)o[a].setAttribute("sizes",i);n.detail.dataAttr||ut(t,n.detail)})),s=function(t,e,n){var i,o=t.parentNode;o&&(n=pt(t,o,n),(i=dt(t,"lazybeforesizes",{width:n,dataAttr:!!e})).defaultPrevented||(n=i.detail.width)&&n!==t._lazysizesWidth&&r(t,o,i,n))},{_:function(){a=e.getElementsByClassName(o.autosizesClass),J("resize",c)},checkElems:c=vt((function(){var t,e=a.length;if(e)for(t=0;t<e;t++)s(a[t])})),updateElem:s}),bt=function(){!bt.i&&e.getElementsByClassName&&(bt.i=!0,gt._(),yt._())};return Z((function(){o.init&&bt()})),i={cfg:o,autoSizer:gt,loader:yt,init:bt,uP:ut,aC:st,rC:ct,hC:rt,fire:dt,gW:pt,rAF:ht}}(e,e.document,Date);e.lazySizes=i,t.exports&&(t.exports=i)}("undefined"!=typeof window?window:{})},857:(t,e,n)=>{var i,o,a;!function(r,s){r&&(s=s.bind(null,r,r.document),t.exports?s(n(397)):(o=[n(397)],void 0===(a="function"==typeof(i=s)?i.apply(e,o):i)||(t.exports=a)))}("undefined"!=typeof window?window:0,(function(t,e,n){"use strict";if(t.addEventListener){var i=/\s+(\d+)(w|h)\s+(\d+)(w|h)/,o=/parent-fit["']*\s*:\s*["']*(contain|cover|width)/,a=/parent-container["']*\s*:\s*["']*(.+?)(?=(\s|$|,|'|"|;))/,r=/^picture$/i,s=n.cfg,c={getParent:function(e,n){var i=e,o=e.parentNode;return n&&"prev"!=n||!o||!r.test(o.nodeName||"")||(o=o.parentNode),"self"!=n&&(i="prev"==n?e.previousElementSibling:n&&(o.closest||t.jQuery)&&(o.closest?o.closest(n):jQuery(o).closest(n)[0])||o),i},getFit:function(t){var e,n,i=getComputedStyle(t,null)||{},r=i.content||i.fontFamily,s={fit:t._lazysizesParentFit||t.getAttribute("data-parent-fit")};return!s.fit&&r&&(e=r.match(o))&&(s.fit=e[1]),s.fit?(!(n=t._lazysizesParentContainer||t.getAttribute("data-parent-container"))&&r&&(e=r.match(a))&&(n=e[1]),s.parent=c.getParent(t,n)):s.fit=i.objectFit,s},getImageRatio:function(e){var n,o,a,c,l,d,u,f=e.parentNode,p=f&&r.test(f.nodeName||"")?f.querySelectorAll("source, img"):[e];for(n=0;n<p.length;n++)if(o=(e=p[n]).getAttribute(s.srcsetAttr)||e.getAttribute("srcset")||e.getAttribute("data-pfsrcset")||e.getAttribute("data-risrcset")||"",a=e._lsMedia||e.getAttribute("media"),a=s.customMedia[e.getAttribute("data-media")||a]||a,o&&(!a||(t.matchMedia&&matchMedia(a)||{}).matches)){(c=parseFloat(e.getAttribute("data-aspectratio")))||((l=o.match(i))?"w"==l[2]?(d=l[1],u=l[3]):(d=l[3],u=l[1]):(d=e.getAttribute("width"),u=e.getAttribute("height")),c=d/u);break}return c},calculateSize:function(t,e){var n,i,o,a=this.getFit(t),r=a.fit,s=a.parent;return"width"==r||("contain"==r||"cover"==r)&&(i=this.getImageRatio(t))?(s?e=s.clientWidth:s=t,o=e,"width"==r?o=e:(n=e/s.clientHeight)&&("cover"==r&&n<i||"contain"==r&&n>i)&&(o=e*(i/n)),o):e}};n.parentFit=c,e.addEventListener("lazybeforesizes",(function(t){if(!t.defaultPrevented&&t.detail.instance==n){var e=t.target;t.detail.width=c.calculateSize(e,t.detail.width)}}))}}))},307:(t,e,n)=>{"use strict";n.d(e,{Iq:()=>d});var i,o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)},a=function(){function t(t){this.options=t,this.listeners={}}return t.prototype.on=function(t,e){var n=this.listeners[t]||[];this.listeners[t]=n.concat([e])},t.prototype.triggerEvent=function(t,e){var n=this;(this.listeners[t]||[]).forEach((function(t){return t({target:n,event:e})}))},t}();!function(t){t[t.Add=0]="Add",t[t.Remove=1]="Remove"}(i||(i={}));var r,s=function(){function t(){this.notifications=[]}return t.prototype.push=function(t){this.notifications.push(t),this.updateFn(t,i.Add,this.notifications)},t.prototype.splice=function(t,e){var n=this.notifications.splice(t,e)[0];return this.updateFn(n,i.Remove,this.notifications),n},t.prototype.indexOf=function(t){return this.notifications.indexOf(t)},t.prototype.onUpdate=function(t){this.updateFn=t},t}();!function(t){t.Dismiss="dismiss",t.Click="click"}(r||(r={}));var c={types:[{type:"success",className:"notyf__toast--success",backgroundColor:"#3dc763",icon:{className:"notyf__icon--success",tagName:"i"}},{type:"error",className:"notyf__toast--error",backgroundColor:"#ed3d3d",icon:{className:"notyf__icon--error",tagName:"i"}}],duration:2e3,ripple:!0,position:{x:"right",y:"bottom"},dismissible:!1},l=function(){function t(){this.notifications=[],this.events={},this.X_POSITION_FLEX_MAP={left:"flex-start",center:"center",right:"flex-end"},this.Y_POSITION_FLEX_MAP={top:"flex-start",center:"center",bottom:"flex-end"};var t=document.createDocumentFragment(),e=this._createHTMLElement({tagName:"div",className:"notyf"});t.appendChild(e),document.body.appendChild(t),this.container=e,this.animationEndEventName=this._getAnimationEndEventName(),this._createA11yContainer()}return t.prototype.on=function(t,e){var n;this.events=o(o({},this.events),((n={})[t]=e,n))},t.prototype.update=function(t,e){e===i.Add?this.addNotification(t):e===i.Remove&&this.removeNotification(t)},t.prototype.removeNotification=function(t){var e,n,i=this,o=this._popRenderedNotification(t);o&&((e=o.node).classList.add("notyf__toast--disappear"),e.addEventListener(this.animationEndEventName,n=function(t){t.target===e&&(e.removeEventListener(i.animationEndEventName,n),i.container.removeChild(e))}))},t.prototype.addNotification=function(t){var e=this._renderNotification(t);this.notifications.push({notification:t,node:e}),this._announce(t.options.message||"Notification")},t.prototype._renderNotification=function(t){var e,n=this._buildNotificationCard(t),i=t.options.className;return i&&(e=n.classList).add.apply(e,i.split(" ")),this.container.appendChild(n),n},t.prototype._popRenderedNotification=function(t){for(var e=-1,n=0;n<this.notifications.length&&e<0;n++)this.notifications[n].notification===t&&(e=n);if(-1!==e)return this.notifications.splice(e,1)[0]},t.prototype.getXPosition=function(t){var e;return(null===(e=null==t?void 0:t.position)||void 0===e?void 0:e.x)||"right"},t.prototype.getYPosition=function(t){var e;return(null===(e=null==t?void 0:t.position)||void 0===e?void 0:e.y)||"bottom"},t.prototype.adjustContainerAlignment=function(t){var e=this.X_POSITION_FLEX_MAP[this.getXPosition(t)],n=this.Y_POSITION_FLEX_MAP[this.getYPosition(t)],i=this.container.style;i.setProperty("justify-content",n),i.setProperty("align-items",e)},t.prototype._buildNotificationCard=function(t){var e=this,n=t.options,i=n.icon;this.adjustContainerAlignment(n);var o=this._createHTMLElement({tagName:"div",className:"notyf__toast"}),a=this._createHTMLElement({tagName:"div",className:"notyf__ripple"}),s=this._createHTMLElement({tagName:"div",className:"notyf__wrapper"}),c=this._createHTMLElement({tagName:"div",className:"notyf__message"});c.innerHTML=n.message||"";var l=n.background||n.backgroundColor;if(i){var d=this._createHTMLElement({tagName:"div",className:"notyf__icon"});if(("string"==typeof i||i instanceof String)&&(d.innerHTML=new String(i).valueOf()),"object"==typeof i){var u=i.tagName,f=void 0===u?"i":u,p=i.className,h=i.text,m=i.color,v=void 0===m?l:m,y=this._createHTMLElement({tagName:f,className:p,text:h});v&&(y.style.color=v),d.appendChild(y)}s.appendChild(d)}if(s.appendChild(c),o.appendChild(s),l&&(n.ripple?(a.style.background=l,o.appendChild(a)):o.style.background=l),n.dismissible){var g=this._createHTMLElement({tagName:"div",className:"notyf__dismiss"}),b=this._createHTMLElement({tagName:"button",className:"notyf__dismiss-btn"});g.appendChild(b),s.appendChild(g),o.classList.add("notyf__toast--dismissible"),b.addEventListener("click",(function(n){var i,o;null===(o=(i=e.events)[r.Dismiss])||void 0===o||o.call(i,{target:t,event:n}),n.stopPropagation()}))}o.addEventListener("click",(function(n){var i,o;return null===(o=(i=e.events)[r.Click])||void 0===o?void 0:o.call(i,{target:t,event:n})}));var _="top"===this.getYPosition(n)?"upper":"lower";return o.classList.add("notyf__toast--"+_),o},t.prototype._createHTMLElement=function(t){var e=t.tagName,n=t.className,i=t.text,o=document.createElement(e);return n&&(o.className=n),o.textContent=i||null,o},t.prototype._createA11yContainer=function(){var t=this._createHTMLElement({tagName:"div",className:"notyf-announcer"});t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","polite"),t.style.border="0",t.style.clip="rect(0 0 0 0)",t.style.height="1px",t.style.margin="-1px",t.style.overflow="hidden",t.style.padding="0",t.style.position="absolute",t.style.width="1px",t.style.outline="0",document.body.appendChild(t),this.a11yContainer=t},t.prototype._announce=function(t){var e=this;this.a11yContainer.textContent="",setTimeout((function(){e.a11yContainer.textContent=t}),100)},t.prototype._getAnimationEndEventName=function(){var t,e=document.createElement("_fake"),n={MozTransition:"animationend",OTransition:"oAnimationEnd",WebkitTransition:"webkitAnimationEnd",transition:"animationend"};for(t in n)if(void 0!==e.style[t])return n[t];return"animationend"},t}(),d=function(){function t(t){var e=this;this.dismiss=this._removeNotification,this.notifications=new s,this.view=new l;var n=this.registerTypes(t);this.options=o(o({},c),t),this.options.types=n,this.notifications.onUpdate((function(t,n){return e.view.update(t,n)})),this.view.on(r.Dismiss,(function(t){var n=t.target,i=t.event;e._removeNotification(n),n.triggerEvent(r.Dismiss,i)})),this.view.on(r.Click,(function(t){var e=t.target,n=t.event;return e.triggerEvent(r.Click,n)}))}return t.prototype.error=function(t){var e=this.normalizeOptions("error",t);return this.open(e)},t.prototype.success=function(t){var e=this.normalizeOptions("success",t);return this.open(e)},t.prototype.open=function(t){var e=this.options.types.find((function(e){return e.type===t.type}))||{},n=o(o({},e),t);this.assignProps(["ripple","position","dismissible"],n);var i=new a(n);return this._pushNotification(i),i},t.prototype.dismissAll=function(){for(;this.notifications.splice(0,1););},t.prototype.assignProps=function(t,e){var n=this;t.forEach((function(t){e[t]=null==e[t]?n.options[t]:e[t]}))},t.prototype._pushNotification=function(t){var e=this;this.notifications.push(t);var n=void 0!==t.options.duration?t.options.duration:this.options.duration;n&&setTimeout((function(){return e._removeNotification(t)}),n)},t.prototype._removeNotification=function(t){var e=this.notifications.indexOf(t);-1!==e&&this.notifications.splice(e,1)},t.prototype.normalizeOptions=function(t,e){var n={type:t};return"string"==typeof e?n.message=e:"object"==typeof e&&(n=o(o({},n),e)),n},t.prototype.registerTypes=function(t){var e=(t&&t.types||[]).slice();return c.types.map((function(t){var n=-1;e.forEach((function(e,i){e.type===t.type&&(n=i)}));var i=-1!==n?e.splice(n,1)[0]:{};return o(o({},t),i)})).concat(e)},t}()},373:(t,e,n)=>{"use strict";let i,o;n.d(e,{X3:()=>h});const a=new WeakMap,r=new WeakMap,s=new WeakMap,c=new WeakMap,l=new WeakMap;let d={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return r.get(t);if("objectStoreNames"===e)return t.objectStoreNames||s.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return f(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function u(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(p(this),t),f(a.get(this))}:function(...t){return f(e.apply(p(this),t))}:function(t,...n){const i=e.call(p(this),t,...n);return s.set(i,t.sort?t.sort():[t]),f(i)}:(t instanceof IDBTransaction&&function(t){if(r.has(t))return;const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{e(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)}));r.set(t,e)}(t),n=t,(i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>n instanceof t))?new Proxy(t,d):t);var e,n}function f(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{e(f(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)}));return e.then((e=>{e instanceof IDBCursor&&a.set(e,t)})).catch((()=>{})),l.set(e,t),e}(t);if(c.has(t))return c.get(t);const e=u(t);return e!==t&&(c.set(t,e),l.set(e,t)),e}const p=t=>l.get(t);function h(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const r=indexedDB.open(t,e),s=f(r);return i&&r.addEventListener("upgradeneeded",(t=>{i(f(r.result),t.oldVersion,t.newVersion,f(r.transaction),t)})),n&&r.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),s.then((t=>{a&&t.addEventListener("close",(()=>a())),o&&t.addEventListener("versionchange",(t=>o(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),s}const m=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],y=new Map;function g(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(y.get(e))return y.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=v.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!o&&!m.includes(n))return;const a=async function(t,...e){const a=this.transaction(t,o?"readwrite":"readonly");let r=a.store;return i&&(r=r.index(e.shift())),(await Promise.all([r[n](...e),o&&a.done]))[0]};return y.set(e,a),a}var b;b=d,d={...b,get:(t,e,n)=>g(t,e)||b.get(t,e,n),has:(t,e)=>!!g(t,e)||b.has(t,e)}}}]);
//# sourceMappingURL=104.592ce653.js.map